<div id="mailCadre">
    <table class="emailCompo" id="emailTemplate1">
        <thead></thead>
        <tbody ui-sortable="sortableOptions" ng-model="blocks">
            <tr droppable
                class="dropzone"
                ng-repeat="block in blocks track by $index"
                ng-class="{'mailFooter': block.type === 'footer', 'mailHr': block.type === 'divider'}"
                ng-click="update($event, block)"
                ng-style="block.attributes.metaStyle">
                <td ng-class="{'emailImg': block.type === 'file',
                        'mailSocial': block.type === 'social',
                        'mailLogo': block.type === 'text'}"
                    ng-style="block.attributes.metaStyle">
                    <div class="btnAction">
                        <div class="mailEditIco" >
                            <a href class="handleDrag no-style">
                                <span class="glyphicon glyphicon-move"></span>
                            </a>
                        </div>
                        <div class="mailEditIco">
                            <a class="no-style" href ><span class="glyphicon glyphicon-pencil"></span></a>
                        </div>
                        <div class="mailEditIco" ng-click="duplicate($event, block);">
                            <a class="no-style" href ><span class="glyphicon glyphicon-duplicate"></span></a>
                        </div>
                        <div class="mailEditIco" ng-click="delete($event, block);">
                            <a class="no-style" href ><span class="glyphicon glyphicon-trash"></span></a>
                        </div>
                    </div>
                    <div ng-if="block.type != 'divider'
                                || block.type != 'double'
                                || block.type != 'footer'" class="html">
                        <span class="node" render-style-on-bound ng-bind-html="block.content | sanitize"></span>
                    </div>
                    <div ng-if="block.type == 'double' || block.type == 'footer'">
                        <table class="table-block-double" style="table-layout: fixed; width: 540px" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td ng-repeat="cell in block.cells track by $index" class="cell-{{$index}}" style="word-wrap: break-word">
                                    <span class="node" render-style-on-bound ng-bind-html="cell.content"></span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>

